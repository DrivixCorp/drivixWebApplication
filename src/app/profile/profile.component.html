
<section class="profile-page" sty>
    

                      

    <div class="main main-raised">

      <!-- Button trigger modal -->
              <!-- Button trigger modal -->
              <div class="btttt" style="margin-left:10px;margin-top:20px;">
                  <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#profileData1" *ngIf="!ProfileData">
                      Complete Your Information
                  </button>

                  
    
                 
              </div>
              

      <div class="profile-content" style="padding-top:20px;padding-bottom: 20px;">
        <div class="container">
          <div class="row">
            <div class="col-12 text-center">
                <div class="avatar" *ngIf="ProfileData">
                    <span class="con">
                        <img  src="{{ProfileData.image}}" alt="Image Not Found" class="img-raised rounded-circle  profile-img image"
                        >
                        <div class="middle">
                            <div class="text">
                                <button type="button" class="btn btn-light" data-toggle="modal" data-target="#imageProfile">Edit Photo</button>
                            </div>
                          </div>
                    </span>
                </div>
                
            </div>
            <div class="col-12 text-center"> 
                <h3 class="titleName" *ngIf="userData">{{userData.name}}</h3>
                <p style="color:gray">Last contact : 1 month ago</p>
            </div>
            
            <div class="col-12">
                <div class="row justify-content-md-center">
                    <div class="col col-lg-3 text-center" style="background:#80808054;padding:18px;border:ridge;margin-right:7px">
                        <span *ngIf="ProfileData">0{{ProfileData.phone}}</span>
                        <span *ngIf="!ProfileData">01-xxx-xxx-xxx</span>
                    </div>

                    <div class="col col-lg-3 text-center" style="background:#80808054;padding:18px;border:ridge;">
                        <span *ngIf="userData">{{userData.email}}</span>
                    </div>
                  </div>
            </div>
            <div class="col-12 text-center" *ngIf="ProfileData">
              <div class="row">
                  <div class="col-12 ">
                      <h2 style="padding:25px;font-family: cursive;"><span style="border-bottom: 3px solid #6769ba;">Information Details</span></h2>
                    </div>
                    <div class="col-12">
                        <div class="row justify-content-md-center">
                            <div class="col col-lg-6 relatedPersonInfo">
                                <div class="card" style="width: 100%;">
                                    <agm-map  [latitude]="29.9963" [longitude]="31.2147">
                                        <agm-marker [latitude]="29.9963" [longitude]="31.2147"></agm-marker>
                                      </agm-map>
                                    
                                    <ul class="list-group list-group-flush">
                                      <li class="list-group-item">
                                        <div class="row">
                                          <div class="col-6 text-left">
                                              Date OF Birth
                                          </div>
                                          <div class="col-6 text-right">
                                              <span *ngIf="ProfileData">{{ProfileData.DOB}}</span>
                                          </div>
                                        </div>
                                      </li>
                                      <li class="list-group-item">
                                          <div class="row">
                                            <div class="col-6 text-left">
                                                Gender
                                            </div>
                                            <div class="col-6 text-right">
                                                <span *ngIf="ProfileData">{{ProfileData.gender}}</span>
                                            </div>
                                          </div>
                                        </li>
                                        <li class="list-group-item">
                                            <div class="row">
                                              <div class="col-6 text-left">
                                                  Job
                                              </div>
                                              <div class="col-6 text-right">
                                                  <span *ngIf="ProfileData">{{ProfileData.job}}</span>
                                              </div>
                                            </div>
                                          </li>
                                          <li class="list-group-item">
                                              <div class="row">
                                                  <div class="col-6 text-left">
                                                      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#profileData2" *ngIf="ProfileData">
                                                          Update Your Information
                                                      </button>
                                                  </div>
                                                  <div class="col-6 text-right">
                                                       <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#profileData3" *ngIf="ProfileData">
                                                          Delete Your Information
                                                      </button>
                                                  </div>
                                                </div>
                                          </li>
                                    </ul>
                                
                                  </div>
                            </div>
        
                          </div>
                    </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal nmm 1 of adding new profile-->
    <div class="modal fade" id="profileData1" tabindex="-1" role="dialog" aria-labelledby="profileData" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <div class="row">
                <div class="col-12">
                    <h5 class="modal-title" id="exampleModalLongTitle">Add New Profile</h5>
                    
                </div>

                <div class="col-12" >
                    <div class="formError">
                        <div *ngFor="let mss of alert">
                          <div class="alert alert-danger" role="alert">
                            <strong>Alert!</strong> {{mss}}.
                          </div>
                        </div>
                    </div>
                </div>
              </div>
              
              
              
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
              <form #Profileform="ngForm" (ngSubmit)='saveOrUpdateProfileData(1)' id="form1" novalidate>
                <div class="form-group">
                    <label for="exampleFormControlFile1">Phone</label>
                    <input type="number" class="form-control" pattern="[\+()]*(?:\d[\s\-\.()xX]*){10,11}"
                    id="exampleFormControlFile1" aria-describedby="" placeholder="Enter Phone Number"
                    name='phone' #phone='ngModel' required [(ngModel)]='formPhone' [class.error]="phone.errors && phone.invalid && phone.touched">
                    <div class="form-input-error" *ngIf="phone.errors && phone.invalid && phone.touched">
                        <small *ngIf="phone.errors.required" class='text-danger ml-2'>phone is required <br></small>
                        <small *ngIf="phone.errors.pattern" class='text-danger ml-2'>phone is invalid</small>
                    </div>
                </div>
                <hr>

                <div class="form-group">
                    <label for="exampleFormControlFile2">Date Of Birth</label>
                    <input type="date" class="form-control" id="exampleFormControlFile2" aria-describedby="" placeholder=""
                    name='date' #date='ngModel' required [(ngModel)]='formDate' [class.error]="date.errors && date.invalid && date.touched">
                    <div class="form-input-error" *ngIf="date.errors && date.invalid && date.touched">
                        <small *ngIf="date.errors.required" class='text-danger ml-2'>date is required <br></small>
                        <small *ngIf="date.errors.pattern" class='text-danger ml-2'>date is invalid</small>
                    </div>
                </div>
                <hr>

               
                <div class="form-group">
                      <label for="">Job</label>
                      <input type="text" name='job' class="form-control" id="" aria-describedby="" placeholder="Enter Your Job"
                      name='job' #job='ngModel' required [(ngModel)]='formJob' [class.error]="job.errors && job.invalid && job.touched">
                  
                  <div class="form-input-error" *ngIf="job.errors && job.invalid && job.touched">
                      <small *ngIf="job.errors.required" class='text-danger ml-2'>job is required <br></small>
                      <small *ngIf="job.errors.pattern" class='text-danger ml-2'>job is invalid</small>
                  </div>
                </div>
                  <hr>

                  <div class="custom-control custom-radio custom-control-inline">
                      <input type="radio" id="customRadioInline1" [(ngModel)]="formType" value="male" name="customRadioInline1" class="custom-control-input" checked>
                      <label class="custom-control-label" for="customRadioInline1">Male</label>
                    </div>
                    <div class="custom-control custom-radio custom-control-inline">
                      <input type="radio" id="customRadioInline2" [(ngModel)]="formType" value="female" name="customRadioInline1" class="custom-control-input">
                      <label class="custom-control-label" for="customRadioInline2">Female</label>
                    </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="submit"form="form1"  [disabled]='Profileform.form.invalid' class="btn btn-primary submitbtn">Save changes</button>
            </div>
          </div>
        </div>
      </div>
      <!--end modal 1-->

      <!-- Modal nmm 2 of upating profile-->
    <div *ngIf="testObject()" class="modal fade" id="profileData2" tabindex="-1" role="dialog" aria-labelledby="profileData" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <div class="row">
                <div class="col-12">
                    <h5 class="modal-title" id="exampleModalLongTitle_2">Update Profile</h5>
                    
                </div>

                <div class="col-12" >
                    <div class="formError">
                        <div *ngFor="let mss of alert">
                          <div class="alert alert-danger" role="alert">
                            <strong>Alert!</strong> {{mss}}.
                          </div>
                        </div>
                    </div>
                </div>
              </div>
              
              
              
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
              <form #Profileform2="ngForm" (ngSubmit)='saveOrUpdateProfileData(2)' id="form2" novalidate>
                <div class="form-group">
                    <label for="exampleFormControlFile1">Phone</label>
                    <input type="number" class="form-control" pattern="[\+()]*(?:\d[\s\-\.()xX]*){10,11}"
                    id="exampleFormControlFile1" aria-describedby="" placeholder="Enter Phone Number"
                    name='phone' #phone2='ngModel' required [(ngModel)]='ProfileData.phone' [class.error]="phone2.errors && phone2.invalid && phone2.touched">
                    <div class="form-input-error" *ngIf="phone2.errors && phone2.invalid && phone2.touched">
                        <small *ngIf="phone2.errors.required" class='text-danger ml-2'>phone is required <br></small>
                        <small *ngIf="phone2.errors.pattern" class='text-danger ml-2'>phone is invalid</small>
                    </div>
                </div>
                <hr>

                <div class="form-group">
                    <label for="exampleFormControlFile2">Date Of Birth</label>
                    <input type="date" class="form-control" id="exampleFormControlFile2_2" aria-describedby="" placeholder=""
                    name='date' #date2='ngModel' required [(ngModel)]='ProfileData.DOB' [class.error]="date2.errors && date2.invalid && date2.touched">
                    <div class="form-input-error" *ngIf="date2.errors && date2.invalid && date2.touched">
                        <small *ngIf="date2.errors.required" class='text-danger ml-2'>date is required <br></small>
                        <small *ngIf="date2.errors.pattern" class='text-danger ml-2'>date is invalid</small>
                    </div>
                </div>
                <hr>

               
                <div class="form-group">
                      <label for="">Job</label>
                      <input type="text" name='job' class="form-control" id="" aria-describedby="" placeholder="Enter Your Job"
                      name='job' #job2='ngModel' required [(ngModel)]='ProfileData.job' [class.error]="job2.errors && job2.invalid && job2.touched">
                  
                  <div class="form-input-error" *ngIf="job2.errors && job2.invalid && job2.touched">
                      <small *ngIf="job2.errors.required" class='text-danger ml-2'>job is required <br></small>
                      <small *ngIf="job2.errors.pattern" class='text-danger ml-2'>job is invalid</small>
                  </div>
                </div>
                  <hr>

                  <div class="custom-control custom-radio custom-control-inline">
                      <input type="radio" id="customRadioInline1_2" [(ngModel)]="ProfileData.gender" value="male" name="customRadioInline1_2" class="custom-control-input">
                      <label class="custom-control-label" for="customRadioInline1_2">Male</label>
                    </div>
                    <div class="custom-control custom-radio custom-control-inline">
                      <input type="radio" id="customRadioInline2_2" [(ngModel)]="ProfileData.gender" value="female" name="customRadioInline2_2" class="custom-control-input">
                      <label class="custom-control-label" for="customRadioInline2_2">Female</label>
                    </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="submit"form="form2"  [disabled]='Profileform2.form.invalid' class="btn btn-primary submitbtn">Update changes</button>
            </div>
          </div>
        </div>
      </div>
       <!--end modal 2-->

        <!-- Modal nmm 3 of Deleting profile-->
    <div *ngIf="testObject()" class="modal fade" id="profileData3" tabindex="-1" role="dialog" aria-labelledby="profileData" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <div class="row">
              <div class="col-12">
                  <h5 class="modal-title" id="exampleModalLongTitle_2">Delete Profile</h5>
                  
              </div>

              <div class="col-12" >
                  <div class="formError">
                      <div *ngFor="let mss of alert">
                        <div class="alert alert-danger" role="alert">
                          <strong>Alert!</strong> {{mss}}.
                        </div>
                      </div>
                  </div>
              </div>
            </div>
            
            
            
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
            <h3>Are you sure to elete your profile</h3>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
            <button type="button" id="closeModalAfterDeleting"  (click)="deleteProfile()"  class="btn btn-primary submitbtn">Yes</button>
          </div>
        </div>
      </div>
    </div>
     <!--end modal 3-->

       <!-- Modal nmm 4 of Adding Or Update Or Deleteing in=mage-->
    <div *ngIf="testObject()" class="modal fade" id="imageProfile" tabindex="-1" role="dialog" aria-labelledby="profileData" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <div class="row">
              <div class="col-12">
                  <h5 class="modal-title" id="exampleModalLongTitle_2">Profile Picture</h5>
                  
              </div>

              <div class="col-12" >
                  <div class="formError">
                      <div *ngFor="let mss of alert">
                        <div class="alert alert-danger" role="alert">
                          <strong>Alert!</strong> {{mss}}.
                        </div>
                      </div>
                  </div>
              </div>
            </div>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
              <div class="input-group">
                  <div class="custom-file">
                    <input required #file type="file" accept='image/*' (change)="preview(file.files)" class="custom-file-input" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04">
                    <label class="custom-file-label" for="inputGroupFile04">Choose file</label>
                    
                  </div>
                </div>
               
                <div class="text-center">
                    <span style="color:red;" *ngIf="message">{{message}} <br></span>
                    <hr>
                    <img [src]="imgURL" height="200"  width="auto" *ngIf="imgURL">
                  
                </div>
                
           
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            <button type="button" id="closeModalAfterDeleting2"  (click)="DeleteImage()"  class="btn btn-danger submitbtn">Delete Exists Image</button>
            <button type="button" id="closeModalAfterDeleting" [disabled]='file.invalid'  (click)="saveOrUpdateImage()"  class="btn btn-primary submitbtn">Update Image</button>
            
          </div>
        </div>
      </div>
    </div>
     <!--end modal 4-->

    

</section>