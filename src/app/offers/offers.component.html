<section *ngIf="AllData">
    <div class="row">
        <div class="col-12">
         <div class="formError">
           <div *ngFor="let mss of alertErr">
             <div class="alert alert-danger" role="alert">
               <strong>Alert!</strong> {{mss}}.
             </div>
           </div>
       </div>
       <div class="formError">
         <div *ngFor="let mss of alertSuc">
           <div class="alert alert-success" role="alert">
             <strong>Alert!</strong> {{mss}}.
           </div>
         </div>
     </div>
        </div>
       </div>
    <!--start offer offer-->
    <div class="row">
    <div class="col">

      <div class="offer-title-dec col-12">
        <span class="offer-title"><i class="fas fa-star"></i> Offers <i class="fas fa-chevron-right"></i></span>

        <button type="button" class="btn btn-primary add-btn" data-target="#addOfferModalModal" data-toggle="modal">
          Add New Offer <i class="fas fa-plus"></i>
        </button>
      </div>

      <div class="mb-3" style="min-width: 18rem;">
            <div class="card-body">
              <div class="row">
                  <div class="col mb-3" style="min-width:428px; max-width:100px;" *ngFor="let offer of AllData.carservice.carserviceoffers">
                      <h5 class="card-title text-muted" style="margin:0px">
                          <div class="card text-dark bg-light">
                       
                          <div class="card-header text-center text-warning"><h4>{{offer.title}}</h4></div>
                       
                            <div class="card-body offer-card-body">
                       
                              <h5 class="card-title">
                                <img class="offer-img" src="{{offer.img}}" width="100%" height="200px;" alt="">
                              </h5>
                       
                              <h3 class="card-text text-left offer-description">
                                {{offer.describtion}}
                              </h3>
                              <div class="offer-times">
                                <i class="fas fa-hourglass-half"></i>
                                <span> {{ offer.startdate }} </span>
                                <i class="fas fa-minus"></i>
                                <span> {{ offer.enddate }} </span>
                              </div>

                            </div>
                       
                            <div class="card-footer offer-card-footer border-warning text-center">

                              <a  class="btn btn-edit btn-sm" style="cursor: pointer;" data-toggle="modal" data-target="#editOfferModal" (click)="passDataOffer(offer)"><i class="far fa-edit"></i> Edit</a>
                              <a class="btn btn-delete btn-sm" (click)="deleteOffer(offer.id)"><i class="far fa-times-circle"></i> Delete</a>
                       
                            </div>
                       
                          </div>
                        </h5>
                  </div>
              </div>
            </div>
            <div *ngIf="!AllData.carservice.carserviceoffers.length" class="card-body text-muted no-offers-container">
                <h5 class="card-title text-muted text-center no-offers">
                  <i class="fas fa-info"></i> No Offers to Show .
                </h5>
            </div>
          </div>

    </div>
  </div>
    <!--end card offer-->
</section>



    <!-- Modal nmm 4 of Adding offer in offer-->
    <div *ngIf="testObject()" style="z-index: 99999999999999999999999999" class="modal fade app-modal" id="addOfferModalModal" tabindex="-1" role="dialog" aria-labelledby="profileData" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <div class="row">
                <div class="col-12">
                    <h5 class="modal-title" id="exampleModalLongTitle_2"><i class="fas fa-star-of-life"></i> Add Offer</h5>
                </div>
              </div>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-12">
                     <div class="formError">
                       <div *ngFor="let mss of alertErr">
                         <div class="alert alert-danger" role="alert">
                           <strong>Alert!</strong> {{mss}}.
                         </div>
                       </div>
                   </div>
                   <div class="formError">
                     <div *ngFor="let mss of alertSuc">
                       <div class="alert alert-success" role="alert">
                         <strong>Alert!</strong> {{mss}}.
                       </div>
                     </div>
                 </div>
                    </div>
                   </div>
                <form #offerform="ngForm" (ngSubmit)='addOffer()' id="formOffer" novalidate style="text-align: left">
                
                 
                  <div class="form-group">
                      <label for="">Title</label>
                      <input type="text" name='title' class="form-control" id="" aria-describedby="" placeholder="Enter Offer Title"
                      name='title' #Title='ngModel' required [(ngModel)]='title_offer' [class.error]="Title.errors && Title.invalid && Title.touched">
                  
                  <div class="form-input-error" *ngIf="Title.errors && Title.invalid && Title.touched">
                      <small *ngIf="Title.errors.required" class='text-danger ml-2'>Title is required <br></small>
                      <small *ngIf="Title.errors.pattern" class='text-danger ml-2'>Title is invalid</small>
                  </div>
                </div>
                <div class="form-group">
                    <label for="">Start Date</label>
                    <input type="date" name='date' class="form-control" id="" aria-describedby="" 
                    name='date' #Date='ngModel' required [(ngModel)]='date_offer' [class.error]="Date.errors && Date.invalid && Date.touched">
                
                <div class="form-input-error" *ngIf="Date.errors && Date.invalid && Date.touched">
                    <small *ngIf="Date.errors.required" class='text-danger ml-2'>Date is required <br></small>
                    <small *ngIf="Date.errors.pattern" class='text-danger ml-2'>Date is invalid</small>
                </div>
              </div>
              <div class="form-group">
                  <label for="">End Date</label>
                  <input type="date" name='date2' class="form-control" aria-describedby=""
                  name='date2' #Date2='ngModel' required [(ngModel)]='date2_offer' [class.error]="Date2.errors && Date2.invalid && Date2.touched">
              
              <div class="form-input-error" *ngIf="Date2.errors && Date2.invalid && Date2.touched">
                  <small *ngIf="Date2.errors.required" class='text-danger ml-2'>Date2 is required <br></small>
                  <small *ngIf="Date2.errors.pattern" class='text-danger ml-2'>Date2 is invalid</small>
              </div>
            </div>
            <div class="form-group">
                <label for="">Description</label>
               
            
            <textarea class="form-control" name="descccc" id="dess" cols="30" placeholder="Enter Description Of Offer"  required [(ngModel)]='desc_offer' style="width:100%;" ></textarea>
          </div>
                <div class="form-group">
                    <div class="custom-file">
                      <input name="off_img"  required #file type="file" accept='image/*' (change)="preview(file.files)" class="custom-file-input" id="inputGroupFile04d" aria-describedby="inputGroupFileAddon04">
                      <label class="custom-file-label" for="inputGroupFile04d">Choose file</label>
                      
                    </div>
                  </div>
                  <div class="text-center">
                      <span style="color:red;" *ngIf="message">{{message}} <br></span>
                      <hr>
                      <img [src]="imgURL[0]" height="200"  width="auto" *ngIf="imgURL[0]">
                    
                  </div>
                
                  
                </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn cancel-btn" data-dismiss="modal">Cancel</button>
             
                  <button  type="submit"form="formOffer" [disabled]='offerform.form.invalid' class="btn submit-btn"><i class="fas fa-plus"></i> Add</button>
              
            </div>
          </div>
        </div>
      </div>
       <!--end modal 4-->

        <!-- Modal nmm 4 of edit offer in offer-->
    <div *ngIf="editOfferData" style="z-index: 99999999999999999999999999" class="modal fade app-modal" id="editOfferModal" tabindex="-1" role="dialog" aria-labelledby="profileData" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <div class="row">
                <div class="col-12">
                    <h5 class="modal-title" id="exampleModalLongTitle_2">Edit Offer</h5>
                    
                </div>
  
                
              </div>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-12">
                     <div class="formError">
                       <div *ngFor="let mss of alertErr">
                         <div class="alert alert-danger" role="alert">
                           <strong>Alert!</strong> {{mss}}.
                         </div>
                       </div>
                   </div>
                   <div class="formError">
                     <div *ngFor="let mss of alertSuc">
                       <div class="alert alert-success" role="alert">
                         <strong>Alert!</strong> {{mss}}.
                       </div>
                     </div>
                 </div>
                    </div>
                   </div>
                <form #offerform2="ngForm" (ngSubmit)='editOffer(editOfferData.id)' id="formOffer2" novalidate style="text-align: left">
                
                 
                  <div class="form-group">
                      <label for="">Title</label>
                      <input type="text"  class="form-control" aria-describedby="" placeholder="Enter Ofeer Title"
                      name='title2' #Title2='ngModel' required [(ngModel)]='editOfferData.title' [class.error]="Title2.errors && Title2.invalid && Title2.touched">
                  
                  <div class="form-input-error" *ngIf="Title2.errors && Title2.invalid && Title2.touched">
                      <small *ngIf="Title2.errors.required" class='text-danger ml-2'>Title is required <br></small>
                      <small *ngIf="Title2.errors.pattern" class='text-danger ml-2'>Title is invalid</small>
                  </div>
                </div>
                <div class="form-group">
                    <label for="">Start Date</label>
                    <input type="date" name='date' class="form-control" id="" aria-describedby="" 
                    name='date2' #Date2='ngModel' required [(ngModel)]='editOfferData.startdate' [class.error]="Date2.errors && Date2.invalid && Date2.touched">
                
                <div class="form-input-error" *ngIf="Date2.errors && Date2.invalid && Date2.touched">
                    <small *ngIf="Date2.errors.required" class='text-danger ml-2'>Date is required <br></small>
                    <small *ngIf="Date2.errors.pattern" class='text-danger ml-2'>Date is invalid</small>
                </div>
              </div>
              <div class="form-group">
                  <label for="">End Date</label>
                  <input type="date" name='date22' class="form-control" id="" aria-describedby="" 
                  name='date22' #Date22='ngModel' required [(ngModel)]='editOfferData.enddate' [class.error]="Date22.errors && Date22.invalid && Date22.touched">
              
              <div class="form-input-error" *ngIf="Date22.errors && Date22.invalid && Date22.touched">
                  <small *ngIf="Date22.errors.required" class='text-danger ml-2'>end date is required <br></small>
                  <small *ngIf="Date22.errors.pattern" class='text-danger ml-2'>end date is invalid</small>
              </div>
            </div>
            <div class="form-group">
                <label for="">Description</label>
               
            
            <textarea class="form-control" name="descccc" id="dfgess" cols="30" placeholder="Enter Description Of Offer"  required [(ngModel)]='editOfferData.describtion' style="width:100%;" ></textarea>
          </div>
                <div class="form-group">
                    <div class="custom-file">
                      <input name="off_img"  required #file2 type="file" accept='image/*' (change)="preview(file2.files)" class="custom-file-input" id="inputGroupFile04d7" aria-describedby="inputGroupFileAddon04">
                      <label class="custom-file-label" for="inputGroupFile04d7">Choose file</label>
                      
                    </div>
                  </div>
                  <div class="text-center">
                      <span style="color:red;" *ngIf="message">{{message}} <br></span>
                      <hr>
                      <img [src]="imgURL[0]" height="200"  width="auto" *ngIf="imgURL[0]">
                      <img src="{{editOfferData.img}}"  height="200"  width="auto" *ngIf="!imgURL[0]">
                    
                  </div>
                
                  
                </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn cancel-btn" data-dismiss="modal">Cancel</button>
             
                  <button  type="submit"form="formOffer2" [disabled]='offerform2.form.invalid' class="btn submit-btn"><i class="fas fa-check"></i> Edit</button>
              
            </div>
          </div>
        </div>
      </div>
       <!--end modal 4-->
